<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# web

```go
import "github.com/TrueHopolok/VladOS/modules/web"
```

Web package provides:

- handlers to handle http requests;
- http server interface to start up it and stop it.

Use \[ConnectAll\] to access final handler. Handlers logic handlers are in the sub\-packages.

Before usage, call [github.com/TrueHopolok/VladOS/modules/web/webtmls.PrepareTemplates](<https://pkg.go.dev/github.com/TrueHopolok/VladOS/modules/web/webtmls/#PrepareTemplates>) for html templates to load. Then you can use [Start](<#Start>) and/or [Stop](<#Stop>) to control the server.

## Index

- [func AdminMiddleware\(handler http.HandlerFunc\) http.HandlerFunc](<#AdminMiddleware>)
- [func ConnectAuthorized\(mux \*http.ServeMux\)](<#ConnectAuthorized>)
- [func ConnectEveryone\(mux \*http.ServeMux\)](<#ConnectEveryone>)
- [func ConnectFileHandlers\(mux \*http.ServeMux\)](<#ConnectFileHandlers>)
- [func ConnectUnauthorized\(mux \*http.ServeMux\)](<#ConnectUnauthorized>)
- [func LoggerMiddleware\(handler http.Handler\) http.HandlerFunc](<#LoggerMiddleware>)
- [func NewWebHandler\(\) http.Handler](<#NewWebHandler>)
- [func Start\(serverErrorChan chan error\) error](<#Start>)
- [func Stop\(\) error](<#Stop>)
- [func TodoHandler\(w http.ResponseWriter, r \*http.Request\)](<#TodoHandler>)


<a name="AdminMiddleware"></a>
## func [AdminMiddleware](<https://github.com/TrueHopolok/VladOS/blob/main/modules/web/util.go#L33>)

```go
func AdminMiddleware(handler http.HandlerFunc) http.HandlerFunc
```

Provides an check for being an admin before accessing the handler. Must be used after \[vos.AuthMiddleware\] was used, otherwise will block all trafic.

<a name="ConnectAuthorized"></a>
## func [ConnectAuthorized](<https://github.com/TrueHopolok/VladOS/blob/main/modules/web/connectors.go#L27>)

```go
func ConnectAuthorized(mux *http.ServeMux)
```

Connects to [net/http.ServeMux](<https://pkg.go.dev/net/http/#ServeMux>) handler functions with permission flag [github.com/TrueHopolok/VladOS/modules/vos.Authorized](<https://pkg.go.dev/github.com/TrueHopolok/VladOS/modules/vos/#Authorized>) for the function [github.com/TrueHopolok/VladOS/modules/vos.AuthMiddleware](<https://pkg.go.dev/github.com/TrueHopolok/VladOS/modules/vos/#AuthMiddleware>).

<a name="ConnectEveryone"></a>
## func [ConnectEveryone](<https://github.com/TrueHopolok/VladOS/blob/main/modules/web/connectors.go#L17>)

```go
func ConnectEveryone(mux *http.ServeMux)
```

Connects to [net/http.ServeMux](<https://pkg.go.dev/net/http/#ServeMux>) handler functions with permission flag [github.com/TrueHopolok/VladOS/modules/vos.Everyone](<https://pkg.go.dev/github.com/TrueHopolok/VladOS/modules/vos/#Everyone>) for the function [github.com/TrueHopolok/VladOS/modules/vos.AuthMiddleware](<https://pkg.go.dev/github.com/TrueHopolok/VladOS/modules/vos/#AuthMiddleware>).

<a name="ConnectFileHandlers"></a>
## func [ConnectFileHandlers](<https://github.com/TrueHopolok/VladOS/blob/main/modules/web/connectors.go#L42>)

```go
func ConnectFileHandlers(mux *http.ServeMux)
```

Connects to [net/http.ServeMux](<https://pkg.go.dev/net/http/#ServeMux>) handler functions to server static files on the [github.com/TrueHopolok/VladOS/modules/cfg.Config.WebStaticDir](<https://pkg.go.dev/github.com/TrueHopolok/VladOS/modules/cfg/#Config.WebStaticDir>) path.

<a name="ConnectUnauthorized"></a>
## func [ConnectUnauthorized](<https://github.com/TrueHopolok/VladOS/blob/main/modules/web/connectors.go#L35>)

```go
func ConnectUnauthorized(mux *http.ServeMux)
```

Connects to [net/http.ServeMux](<https://pkg.go.dev/net/http/#ServeMux>) handler functions with permission flag [github.com/TrueHopolok/VladOS/modules/vos.Unauthorized](<https://pkg.go.dev/github.com/TrueHopolok/VladOS/modules/vos/#Unauthorized>) for the function [github.com/TrueHopolok/VladOS/modules/vos.AuthMiddleware](<https://pkg.go.dev/github.com/TrueHopolok/VladOS/modules/vos/#AuthMiddleware>).

<a name="LoggerMiddleware"></a>
## func [LoggerMiddleware](<https://github.com/TrueHopolok/VladOS/blob/main/modules/web/util.go#L17>)

```go
func LoggerMiddleware(handler http.Handler) http.HandlerFunc
```

Provides small http middleware for logs purposes using [log/slog](<https://pkg.go.dev/log/slog/>) package.

<a name="NewWebHandler"></a>
## func [NewWebHandler](<https://github.com/TrueHopolok/VladOS/blob/main/modules/web/web.go#L26>)

```go
func NewWebHandler() http.Handler
```

Connects all connectors into 1 new [net/http.ServeMux](<https://pkg.go.dev/net/http/#ServeMux>) to serve.

- [LoggerMiddleware](<#LoggerMiddleware>),
- [ConnectEveryone](<#ConnectEveryone>),
- [ConnectAuthorized](<#ConnectAuthorized>),
- [ConnectUnauthorized](<#ConnectUnauthorized>),
- [ConnectFileHandlers](<#ConnectFileHandlers>).

<a name="Start"></a>
## func [Start](<https://github.com/TrueHopolok/VladOS/blob/main/modules/web/web.go#L47>)

```go
func Start(serverErrorChan chan error) error
```

Start the http server as a separate goroutinue. Will close the existing server if it was opened by this package.

Server options are:

```
&http.Server{
	Addr:    ":8080",
	Handler: NewWebHandler(),
}
```

Returns error if happens on initialization. Otherwise uses provided channel to report about the error while executing the server.

<a name="Stop"></a>
## func [Stop](<https://github.com/TrueHopolok/VladOS/blob/main/modules/web/web.go#L68>)

```go
func Stop() error
```

Stops existing server from executing. If no server was opened, will do nothing. Returns an error from [net/http.Server.Close](<https://pkg.go.dev/net/http/#Server.Close>).

<a name="TodoHandler"></a>
## func [TodoHandler](<https://github.com/TrueHopolok/VladOS/blob/main/modules/web/util.go#L12>)

```go
func TodoHandler(w http.ResponseWriter, r *http.Request)
```

Provides a placeholder for a handler function to be used in the webpage as TODO reminder.

Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)
