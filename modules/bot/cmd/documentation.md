<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# cmd

```go
import "github.com/TrueHopolok/VladOS/modules/bot/cmd"
```

All bot commands are handled here. Misspelling is handled by github.com/TrueHopolok/spellchecker/spellchecker.

Command handling is processed in this order:

```
get conversation status
if ( status is active ):
	if msg is cmd{cancel}: reset conversation status
	else: give control to cmd converstation handler
else if ( msg is cmd ):
	if ( msg in list{cmd} ): give control to cmd handler
	else ( if msg is cmd{help} ): output info about commands and bot
 	else: handle that as cmd misspell
else: skip this package and fallthrough to others handlers
```

## Index

- [Variables](<#variables>)
- [func ConnectCommands\(bh \*th.BotHandler\) error](<#ConnectCommands>)
- [type Command](<#Command>)


## Variables

<a name="CommandsList"></a>Stores all commands in the map using initialized variables \(see [Command](<#Command>) type and its variables\).

Few commands are stored and handled seperatly from the list:

- help command since it require accessing this map, which is impossible wihtout cyclic import
- spell checking since it is not a command and happens in case of misspelled command

```go
var CommandsList map[string]map[string]Command = map[string]map[string]Command{
    "Gambling": {},
    "Others": {
        "start": CommandStart,
        "ghoul": CommandGhoul,
        "rand":  CommandRand,
        "tip":   CommandTip,
    },
}
```

<a name="ConnectCommands"></a>
## func ConnectCommands

```go
func ConnectCommands(bh *th.BotHandler) error
```

Connects converstion handlers. Afterwards create a group in bot handler that handles all incomming commands. See [CommandsList](<#CommandsList>) for all commands details.

<a name="Command"></a>
## type Command

Contains the command's handler and the info text that is displayed on help command.

Name of the command is stored in key of the [CommandsList](<#CommandsList>) map.

```go
type Command struct {
    // Description and a usage of the command.
    InfoFull string

    // Brief description about the command.
    InfoBrief string
    // contains filtered or unexported fields
}
```

<a name="CommandGhoul"></a>

```go
var CommandGhoul Command = Command{
    InfoFull: `
 /ghoul
Starts from 1000, subtracts 7.
Result is outputed in the message. Then the process is repeated till the 0. 
 `,
    InfoBrief: "output 1000-7 loop",
    // contains filtered or unexported fields
}
```

<a name="CommandRand"></a>

```go
var CommandRand Command = Command{
    InfoFull: fmt.Sprintf(`
 /rand
Generates a random number between given numbers in range from 0 till %d included.
Command will give you a prompt asking what min and max values of the random you want.

 /rand <max_num>
Generates a random number between 0 and given number which value is from 0 till %d included.
Command will immediatly send a response. Expects that max_num is in the allowed range.

 /rand <min_num> <max_num>
Generates a random number between 2 given numbers which values is from 0 till %d included.
Command will immediatly send a response. Expects that min_num <= max_num and they are in the allowed range.
`, randMaxValue, randMaxValue, randMaxValue),
    InfoBrief: "generates random number",
    // contains filtered or unexported fields
}
```

<a name="CommandStart"></a>

```go
var CommandStart Command = Command{
    InfoBrief: "output info about the bot and its links",
    InfoFull: `
 /start
Output information about bot's life purpose and who it is.
Provide useful links to bot's website. 
`,
    // contains filtered or unexported fields
}
```

<a name="CommandTip"></a>

```go
var CommandTip Command = Command{
    InfoBrief: "output some advice/tip/quote",
    InfoFull: `
 /tip
Output a random advice, tip or quote.

 /tip <advice_id>
Output a tip with id equal to given one. 
`,
    // contains filtered or unexported fields
}
```

Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)
